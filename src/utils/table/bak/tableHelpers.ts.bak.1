// Pure utility functions for table operations

// Column reordering logic
export const reorderColumns = (
  currentOrder: string[],
  draggedColumnId: string,
  direction: 'left' | 'right'
): string[] => {
  const draggedIndex = currentOrder.indexOf(draggedColumnId);
  if (draggedIndex === -1) return currentOrder;
  
  const newOrder = [...currentOrder];
  const targetIndex = direction === 'left' ? draggedIndex - 1 : draggedIndex + 1;
  
  // Ensure target index is within bounds
  if (targetIndex >= 0 && targetIndex < newOrder.length) {
    // Remove dragged column from current position
    const [draggedColumn] = newOrder.splice(draggedIndex, 1);
    // Insert at new position
    newOrder.splice(targetIndex, 0, draggedColumn);
    
    return newOrder;
  }
  
  return currentOrder;
};

// Footer message generation
export const generateTableFooterMessage = (
  filteredCount: number,
  totalCount: number
): string => {
  return filteredCount !== totalCount 
    ? `**${filteredCount}** courses filtered from **${totalCount}** total.`
    : `**${totalCount}** courses total.`;
};

// Default column orders for different table types
export const DEFAULT_CATALOG_COLUMN_ORDER = [
  "#", "ID", "Category", "Price", "Name", "PDF", "Mode", "Language", "Duration"
];

export const DEFAULT_PLAN_COLUMN_ORDER = [
  "#", "ID", "Name", "Category", "Price", "PDF", "Mode", "Language", "Duration"
  // Team member columns would be added dynamically
];