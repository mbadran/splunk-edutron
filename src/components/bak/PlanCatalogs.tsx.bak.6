import React from "react";
import { useAtom } from "jotai";
import CatalogTable from "./CatalogTable";
import { planCoursesAtom } from "./Planner";

interface PlanCatalogsProps {
  onScroll?: (scrollTop: number) => void;
}

const PlanCatalogs: React.FC<PlanCatalogsProps> = ({ onScroll }) => {
  // Get courses from the global atom as per PRD data flow
  const [courses] = useAtom(planCoursesAtom);

  // Debug logging to track data flow
  React.useEffect(() => {
    console.log("PlanCatalogs - courses from atom:", courses?.length || 0);
    console.log("PlanCatalogs - sample course:", courses?.[0]?.Name || "No courses");
  }, [courses]);

  return (
    <div id="plan-catalogs" className="h-full">
      <CatalogTable 
        onScroll={onScroll}
        courses={courses || []}
      />
    </div>
  );
};

PlanCatalogs.displayName = "PlanCatalogs";

export default PlanCatalogs;