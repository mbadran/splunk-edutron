import React from "react";
import { Course, Person } from "@/types/types";

export interface PlanCellProps {
  course: Course;
  member: Person;
  isSelected: boolean;
  onToggle: (course: Course, member: Person) => void;
}

// Enhanced plan cell with full background highlighting instead of circular button
export const PlanCell = React.memo<PlanCellProps>(
  ({ course, member, isSelected, onToggle }) => {
    return (
      <div 
        className={`h-12 flex items-center justify-center px-2 cursor-pointer transition-all duration-200 group ${
          isSelected
            ? "bg-green-100 hover:bg-green-200"
            : "hover:bg-orange-50"
        }`}
        onClick={() => onToggle(course, member)}
        title={
          isSelected
            ? `Remove ${member.name} from '${course.Name}'`
            : `Add ${member.name} to '${course.Name}'`
        }
        role="button"
        tabIndex={0}
        onKeyDown={(e) => {
          if (e.key === "Enter" || e.key === " ") {
            e.preventDefault();
            onToggle(course, member);
          }
        }}
        aria-label={
          isSelected
            ? `Remove course ${course.Name} from ${member.name}'s training plan`
            : `Add course ${course.Name} to ${member.name}'s training plan`
        }
      >
        <div
          className={`w-6 h-6 flex items-center justify-center text-sm font-bold rounded-full transition-all duration-200 ${
            isSelected
              ? "bg-green-500 text-white shadow-md"
              : "border-2 border-gray-300 text-gray-400 group-hover:border-orange-400 group-hover:text-orange-500"
          }`}
        >
          {isSelected ? "✓" : "○"}
        </div>
      </div>
    );
  },
);

PlanCell.displayName = "PlanCell";